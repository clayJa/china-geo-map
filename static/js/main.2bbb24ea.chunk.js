(this["webpackJsonpchina-geo-map"]=this["webpackJsonpchina-geo-map"]||[]).push([[0],{215:function(e,t,a){e.exports=a(520)},220:function(e,t,a){},518:function(e,t,a){},519:function(e,t,a){},520:function(e,t,a){"use strict";a.r(t);var n=a(15),r=a.n(n),c=a(212),i=a.n(c),o=(a(220),a(87)),s=a(88),u=a(90),l=a(89),p=a(91),m=a(127),h=a.n(m),f=a(214),d=a(213),v={site_title:"\u4e2d\u56fd\u5730\u56fe"};function b(){return(b=Object(d.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,a);case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){var t=null,a=function(e){var t=Object(f.a)(e,3),a=t[0],n=t[1],r=t[2];return{country:a,province:n,city:r,current_level:r?"city":n?"province":"country",current_value:r||(n||a)}}(e);switch(a.current_level){case"province":t="provinces";break;case"city":t="cities";break;default:t="".concat(a.current_value||"china",".json")}return"".concat(window.location,"/data/map/").concat(t)}var g=a(68),j=a(128),O=a.n(j),E=(a(518),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).chart=void 0,a.chart=null,a.setupChinaMap=a.setupChinaMap.bind(Object(g.a)(a)),a.renderMap=a.renderMap.bind(Object(g.a)(a)),a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.chart=O.a.init(document.getElementById("map-content")),this.setupChinaMap()}},{key:"render",value:function(){return r.a.createElement("div",{id:"map-content"})}},{key:"setupChinaMap",value:function(){var e=this;(function(e,t){return b.apply(this,arguments)})(y(this.props.area)).then((function(t){console.log(t);var a=t.features&&t.features.map((function(e){return{name:e.properties.name}}));e.registerMap("china",t),e.renderMap("china",a)}))}},{key:"registerMap",value:function(e,t){O.a.registerMap(e,t)}},{key:"renderMap",value:function(e,t){console.log(this.chart),this.chart&&this.chart.setOption({tooltip:{trigger:"item",formatter:"{b}"},toolbox:{show:!0,orient:"vertical",left:"right",top:"center",feature:{dataView:{readOnly:!1},restore:{},saveAsImage:{}},iconStyle:{normal:{color:"#fff"}}},animationDuration:1e3,animationEasing:"cubicOut",animationDurationUpdate:1e3,series:[{name:e,type:"map",roam:!1,map:"china",data:t,label:{normal:{show:!0,textStyle:{color:"#999",fontSize:13}},emphasis:{show:!0,textStyle:{color:"#fff",fontSize:13}}},itemStyle:{normal:{areaColor:"#323c48",borderColor:"dodgerblue"},emphasis:{areaColor:"darkorange"}}}]})}}]),t}(r.a.Component)),k=(a(519),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(l.a)(t).call(this,e))).state={area:["china"]},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return function(e){var t=e.subtitles,a=e.title,n=void 0===a?v.site_title:a;t?t instanceof String?document.title="".concat(t," - ").concat(n):t instanceof Array&&(document.title="".concat(t.join(" - ")," - ").concat(n)):document.title=n}({subtitles:this.state.area}),r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"app-header"},r.a.createElement("div",{className:"app-header-title"},v.site_title)),r.a.createElement("div",{className:"app-main"},r.a.createElement("div",{className:"app-main-content-container"}),r.a.createElement("div",{className:"app-main-map-container"},r.a.createElement(E,{area:this.state.area}))),r.a.createElement("div",{className:"app-footer"}))}}]),t}(r.a.Component));i.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[215,1,2]]]);
//# sourceMappingURL=main.2bbb24ea.chunk.js.map